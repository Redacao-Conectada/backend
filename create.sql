create table tb_admin (id bigint not null, primary key (id));
create table tb_change_role_request (id bigint generated by default as identity, proof_img varchar(255), school_name_as_teacher varchar(255), school_registration varchar(255), user_id bigint, primary key (id));
create table tb_comment (id bigint generated by default as identity, body TEXT, up_vote integer, essay_id bigint, user_id bigint, primary key (id));
create table tb_correction (id bigint generated by default as identity, first_competence_grade integer, second_competence_grade integer, third_competence_grade integer, fourth_competence_grade integer, fifth_competence_grade integer, first_grade integer, second_grade integer, third_grade integer, fourth_grade integer, fifth_grade integer, created_date TIMESTAMP WITHOUT TIME ZONE, essay_id bigint, teacher_id bigint, primary key (id));
create table tb_essay (id bigint generated by default as identity, body TEXT, created_at timestamp, is_anon boolean, up_vote integer, correction_id bigint, user_id bigint, primary key (id));
create table tb_essay_user_upvote (essay_id bigint not null, user_id bigint not null);
create table tb_role (id bigint generated by default as identity, authority varchar(255), primary key (id));
create table tb_student (id bigint not null, primary key (id));
create table tb_teacher (proof_img varchar(255), school_name_as_teacher varchar(255), school_registration varchar(255), id bigint not null, primary key (id));
create table tb_user (id bigint generated by default as identity, birthdate TIMESTAMP WITHOUT TIME ZONE, city varchar(255), cpf varchar(255), email varchar(255), graduation varchar(255), image varchar(1500000), name varchar(255), password varchar(255), school_name varchar(255), state varchar(255), primary key (id));
create table tb_user_role (user_id bigint not null, role_id bigint not null, primary key (user_id, role_id));
alter table tb_admin add constraint FKhoj64a1lcerew1shnxm2wls9q foreign key (id) references tb_user;
alter table tb_change_role_request add constraint FKdd1c05wp6oo94ca2wiuhw2qeh foreign key (user_id) references tb_user;
alter table tb_comment add constraint FK3jk1pi9wyg5ucqqgy8gyhsalm foreign key (essay_id) references tb_essay;
alter table tb_comment add constraint FK45c1cuqlljd60ihc9j0962ekq foreign key (user_id) references tb_user;
alter table tb_correction add constraint FKbvi1r4hoxumdjp2a2un92p7qi foreign key (essay_id) references tb_essay;
alter table tb_correction add constraint FK4lsuacyv4yc0nsiqga1m9eufd foreign key (teacher_id) references tb_user;
alter table tb_essay add constraint FKg7p0hkntqvtffpo63pl572jrd foreign key (correction_id) references tb_correction;
alter table tb_essay add constraint FKkonasm8ttaxus6k4xqodj8px foreign key (user_id) references tb_user;
alter table tb_essay_user_upvote add constraint FK9qicyrfh5p9a4kq9a554ay8jv foreign key (user_id) references tb_user;
alter table tb_essay_user_upvote add constraint FKhpbhrfsgtfsmtxs3kyht5q0vl foreign key (essay_id) references tb_essay;
alter table tb_student add constraint FKoulhtuj589chhqnpnxse18b52 foreign key (id) references tb_user;
alter table tb_teacher add constraint FK2hk7v8nb81camjl8k74oqq810 foreign key (id) references tb_user;
alter table tb_user_role add constraint FKea2ootw6b6bb0xt3ptl28bymv foreign key (role_id) references tb_role;
alter table tb_user_role add constraint FK7vn3h53d0tqdimm8cp45gc0kl foreign key (user_id) references tb_user;
